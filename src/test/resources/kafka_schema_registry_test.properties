# A configuration file to be used when testing kafka integration.

spring.profiles.active=worker

rhsm-conduit.version=TEST


# Stub out the inventory and pinhead services
rhsm-conduit.inventory-service.useStub=true
rhsm-conduit.pinhead.useStub=true

# Configure the kafka task queue and the embedded kafka broker
rhsm-conduit.tasks.queue=kafka
rhsm-conduit.tasks.task-group=rhsm-conduit-tasks
spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers}
# In tests, messages may be sent before the listener has been assigned the topic
# so we ensure that when the listener comes online it starts from first message.
spring.kafka.consumer.auto-offset-reset=earliest

# Enable the schema registry (registry mock ignores the URL but it must be set
# to enable registry checking).
spring.kafka.properties.schema.registry.url=unused

rhsm-subscriptions.datasource.platform=hsqldb
rhsm-subscriptions.datasource.url=jdbc:hsqldb:mem:orgsyncdb
rhsm-subscriptions.datasource.driver-class-name=org.hsqldb.jdbc.JDBCDriver
